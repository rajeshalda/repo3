Processing meetings for user debrab@m365x92504196.onmicrosoft.com from source: pm2
Fetching meetings for user: debrab@m365x92504196.onmicrosoft.com
Fetching meetings for current day in IST (UTC+05:30)
Date range (UTC): 2025-04-15T18:30:00.000Z to 2025-04-16T18:29:59.999Z
Fetching meetings from URL: https://graph.microsoft.com/v1.0/users/debrab@m365x92504196.onmicrosoft.com/events?$filter=start%2FdateTime%20ge%20'2025-04-15T18%3A30%3A00.000Z'%20and%20end%2FdateTime%20le%20'2025-04-16T18%3A29%3A59.999Z'&$select=id,subject,start,end,organizer,attendees,bodyPreview,importance,isAllDay,isCancelled,categories,onlineMeeting&$orderby=start/dateTime desc
Received meetings data: {
  "@odata.context": "https://graph.microsoft.com/v1.0/$metadata#users('debrab%40m365x92504196.onmicrosoft.com')/events(id,subject,start,end,organizer,attendees,bodyPreview,importance,isAllDay,isCancelled,categories,onlineMeeting)",
  "value": [
    {
      "@odata.etag": "W/\"c1GImMu9N0+5TBKtnfYrxgAACOZxKA==\"",
      "id": "AAMkAGU4ZTUwM2UxLWE2ZmYtNDEyYi04YjMxLTE4ZDVjOWJjYTU1NwBGAAAAAACESgB8DtbJRbT5CFNNyAusBwBzUYiYy703T7lMEq2d9ivGAAAAAAENAABzUYiYy703T7lMEq2d9ivGAAAIeGi1AAA=",
      "categories": [],
      "subject": "infra",
      "bodyPreview": "________________________________________________________________________________\r\nMicrosoft Teams Need help?\r\nJoin the meeting now\r\nMeeting ID: 262 130 764 868 5\r\nPasscode: qA6Jy7BX\r\n________________________________\r\nDial in by phone\r\n+1 323-618-184",
      "importance": "normal",
      "isAllDay": false,
      "isCancelled": false,
      "start": {
        "dateTime": "2025-04-16T17:00:00.0000000",
        "timeZone": "Asia/Kolkata"
      },
      "end": {
        "dateTime": "2025-04-16T17:30:00.0000000",
        "timeZone": "Asia/Kolkata"
      },
      "attendees": [],
      "organizer": {
        "emailAddress": {
          "name": "Debra Berger",
          "address": "DebraB@M365x92504196.OnMicrosoft.com"
        }
      },
      "onlineMeeting": {
        "joinUrl": "https://teams.microsoft.com/l/meetup-join/19%3ameeting_NTQxZGVlZjctNzA3ZS00ODlmLTk1YWQtYWRjYjQ0YjQ1OTIy%40thread.v2/0?context=%7b%22Tid%22%3a%22d6b48afb-ae93-4180-bd0f-aa47c5c5b57b%22%2c%22Oid%22%3a%22413c1c34-3d3c-4196-90df-ddc0088bef0c%22%7d",
        "conferenceId": "765257846",
        "tollNumber": "+1 323-618-1840"
      }
    }
  ]
}
Found 1 meetings for today: [
  {
    subject: 'infra',
    start: '2025-04-16T17:00:00.0000000',
    end: '2025-04-16T17:30:00.0000000'
  }
]
Decoded URL: https://teams.microsoft.com/l/meetup-join/19:meeting_NTQxZGVlZjctNzA3ZS00ODlmLTk1YWQtYWRjYjQ0YjQ1OTIy@thread.v2/0?context={"Tid":"d6b48afb-ae93-4180-bd0f-aa47c5c5b57b","Oid":"413c1c34-3d3c-4196-90df-ddc0088bef0c"}
Extracted Meeting ID: 19:meeting_NTQxZGVlZjctNzA3ZS00ODlmLTk1YWQtYWRjYjQ0YjQ1OTIy@thread.v2
Extracted Organizer ID: 413c1c34-3d3c-4196-90df-ddc0088bef0c
Formatted string: 1*413c1c34-3d3c-4196-90df-ddc0088bef0c*0**19:meeting_NTQxZGVlZjctNzA3ZS00ODlmLTk1YWQtYWRjYjQ0YjQ1OTIy@thread.v2
Base64 Meeting ID: MSo0MTNjMWMzNC0zZDNjLTQxOTYtOTBkZi1kZGMwMDg4YmVmMGMqMCoqMTk6bWVldGluZ19OVFF4WkdWbFpqY3ROekEzWlMwME9EbG1MVGsxWVdRdFlXUmpZalEwWWpRMU9USXlAdGhyZWFkLnYy
Reports data: {
  "@odata.context": "https://graph.microsoft.com/v1.0/$metadata#users('413c1c34-3d3c-4196-90df-ddc0088bef0c')/onlineMeetings('MSo0MTNjMWMzNC0zZDNjLTQxOTYtOTBkZi1kZGMwMDg4YmVmMGMqMCoqMTk6bWVldGluZ19OVFF4WkdWbFpqY3ROekEzWlMwME9EbG1MVGsxWVdRdFlXUmpZalEwWWpRMU9USXlAdGhyZWFkLnYy')/attendanceReports",
  "value": [
    {
      "id": "785c8471-1efc-4d82-89bb-8deceb301c79",
      "totalParticipantCount": 1,
      "meetingStartDateTime": "2025-04-15T11:36:24.121Z",
      "meetingEndDateTime": "2025-04-15T11:39:37.857Z"
    }
  ]
}
Report ID: 785c8471-1efc-4d82-89bb-8deceb301c79
Records data: {
  "@odata.context": "https://graph.microsoft.com/v1.0/$metadata#users('413c1c34-3d3c-4196-90df-ddc0088bef0c')/onlineMeetings('MSo0MTNjMWMzNC0zZDNjLTQxOTYtOTBkZi1kZGMwMDg4YmVmMGMqMCoqMTk6bWVldGluZ19OVFF4WkdWbFpqY3ROekEzWlMwME9EbG1MVGsxWVdRdFlXUmpZalEwWWpRMU9USXlAdGhyZWFkLnYy')/attendanceReports('785c8471-1efc-4d82-89bb-8deceb301c79')/attendanceRecords",
  "value": [
    {
      "id": "413c1c34-3d3c-4196-90df-ddc0088bef0c",
      "emailAddress": "DebraB@M365x92504196.OnMicrosoft.com",
      "totalAttendanceInSeconds": 190,
      "role": "Organizer",
      "identity": {
        "@odata.type": "#microsoft.graph.communicationsUserIdentity",
        "id": "413c1c34-3d3c-4196-90df-ddc0088bef0c",
        "displayName": "Debra Berger",
        "tenantId": "d6b48afb-ae93-4180-bd0f-aa47c5c5b57b"
      },
      "attendanceIntervals": [
        {
          "joinDateTime": "2025-04-15T11:36:27.040624Z",
          "leaveDateTime": "2025-04-15T11:39:37.8576297Z",
          "durationInSeconds": 190
        }
      ]
    }
  ]
}
Found 1 meetings for processing
Meeting AAMkAGU4ZTUwM2UxLWE2ZmYtNDEyYi04YjMxLTE4ZDVjOWJjYTU1NwBGAAAAAACESgB8DtbJRbT5CFNNyAusBwBzUYiYy703T7lMEq2d9ivGAAAAAAENAABzUYiYy703T7lMEq2d9ivGAAAIeGi1AAA= added to queue. Queue length: 1
Processing meeting: infra
Rate limit exceeded, retrying after backoff (attempt 1)
Rate limit exceeded, retrying after backoff (attempt 2)
 GET /api/auth/session 200 in 107ms
 GET /api/pm2/agent-status?userId=debrab%40m365x92504196.onmicrosoft.com 200 in 11ms
 GET /api/pm2/status 200 in 20ms
Rate limit exceeded, retrying after backoff (attempt 3)
Rate limit exceeded, retrying after backoff (attempt 4)
 POST /api/process-meetings?userId=debrab%40m365x92504196.onmicrosoft.com&source=pm2 200 in 30011ms
Rate limit exceeded, retrying after backoff (attempt 5)
 GET /api/pm2/status 200 in 18ms
Processing meetings for user debrab@m365x92504196.onmicrosoft.com from source: pm2
Fetching meetings for user: debrab@m365x92504196.onmicrosoft.com
Fetching meetings for current day in IST (UTC+05:30)
Date range (UTC): 2025-04-15T18:30:00.000Z to 2025-04-16T18:29:59.999Z
Fetching meetings from URL: https://graph.microsoft.com/v1.0/users/debrab@m365x92504196.onmicrosoft.com/events?$filter=start%2FdateTime%20ge%20'2025-04-15T18%3A30%3A00.000Z'%20and%20end%2FdateTime%20le%20'2025-04-16T18%3A29%3A59.999Z'&$select=id,subject,start,end,organizer,attendees,bodyPreview,importance,isAllDay,isCancelled,categories,onlineMeeting&$orderby=start/dateTime desc
Received meetings data: {
  "@odata.context": "https://graph.microsoft.com/v1.0/$metadata#users('debrab%40m365x92504196.onmicrosoft.com')/events(id,subject,start,end,organizer,attendees,bodyPreview,importance,isAllDay,isCancelled,categories,onlineMeeting)",
  "value": [
    {
      "@odata.etag": "W/\"c1GImMu9N0+5TBKtnfYrxgAACOZxKA==\"",
      "id": "AAMkAGU4ZTUwM2UxLWE2ZmYtNDEyYi04YjMxLTE4ZDVjOWJjYTU1NwBGAAAAAACESgB8DtbJRbT5CFNNyAusBwBzUYiYy703T7lMEq2d9ivGAAAAAAENAABzUYiYy703T7lMEq2d9ivGAAAIeGi1AAA=",
      "categories": [],
      "subject": "infra",
      "bodyPreview": "________________________________________________________________________________\r\nMicrosoft Teams Need help?\r\nJoin the meeting now\r\nMeeting ID: 262 130 764 868 5\r\nPasscode: qA6Jy7BX\r\n________________________________\r\nDial in by phone\r\n+1 323-618-184",
      "importance": "normal",
      "isAllDay": false,
      "isCancelled": false,
      "start": {
        "dateTime": "2025-04-16T17:00:00.0000000",
        "timeZone": "Asia/Kolkata"
      },
      "end": {
        "dateTime": "2025-04-16T17:30:00.0000000",
        "timeZone": "Asia/Kolkata"
      },
      "attendees": [],
      "organizer": {
        "emailAddress": {
          "name": "Debra Berger",
          "address": "DebraB@M365x92504196.OnMicrosoft.com"
        }
      },
      "onlineMeeting": {
        "joinUrl": "https://teams.microsoft.com/l/meetup-join/19%3ameeting_NTQxZGVlZjctNzA3ZS00ODlmLTk1YWQtYWRjYjQ0YjQ1OTIy%40thread.v2/0?context=%7b%22Tid%22%3a%22d6b48afb-ae93-4180-bd0f-aa47c5c5b57b%22%2c%22Oid%22%3a%22413c1c34-3d3c-4196-90df-ddc0088bef0c%22%7d",
        "conferenceId": "765257846",
        "tollNumber": "+1 323-618-1840"
      }
    }
  ]
}
Found 1 meetings for today: [
  {
    subject: 'infra',
    start: '2025-04-16T17:00:00.0000000',
    end: '2025-04-16T17:30:00.0000000'
  }
]
Decoded URL: https://teams.microsoft.com/l/meetup-join/19:meeting_NTQxZGVlZjctNzA3ZS00ODlmLTk1YWQtYWRjYjQ0YjQ1OTIy@thread.v2/0?context={"Tid":"d6b48afb-ae93-4180-bd0f-aa47c5c5b57b","Oid":"413c1c34-3d3c-4196-90df-ddc0088bef0c"}
Extracted Meeting ID: 19:meeting_NTQxZGVlZjctNzA3ZS00ODlmLTk1YWQtYWRjYjQ0YjQ1OTIy@thread.v2
Extracted Organizer ID: 413c1c34-3d3c-4196-90df-ddc0088bef0c
Formatted string: 1*413c1c34-3d3c-4196-90df-ddc0088bef0c*0**19:meeting_NTQxZGVlZjctNzA3ZS00ODlmLTk1YWQtYWRjYjQ0YjQ1OTIy@thread.v2
Base64 Meeting ID: MSo0MTNjMWMzNC0zZDNjLTQxOTYtOTBkZi1kZGMwMDg4YmVmMGMqMCoqMTk6bWVldGluZ19OVFF4WkdWbFpqY3ROekEzWlMwME9EbG1MVGsxWVdRdFlXUmpZalEwWWpRMU9USXlAdGhyZWFkLnYy
Reports data: {
  "@odata.context": "https://graph.microsoft.com/v1.0/$metadata#users('413c1c34-3d3c-4196-90df-ddc0088bef0c')/onlineMeetings('MSo0MTNjMWMzNC0zZDNjLTQxOTYtOTBkZi1kZGMwMDg4YmVmMGMqMCoqMTk6bWVldGluZ19OVFF4WkdWbFpqY3ROekEzWlMwME9EbG1MVGsxWVdRdFlXUmpZalEwWWpRMU9USXlAdGhyZWFkLnYy')/attendanceReports",
  "value": [
    {
      "id": "785c8471-1efc-4d82-89bb-8deceb301c79",
      "totalParticipantCount": 1,
      "meetingStartDateTime": "2025-04-15T11:36:24.121Z",
      "meetingEndDateTime": "2025-04-15T11:39:37.857Z"
    }
  ]
}
Report ID: 785c8471-1efc-4d82-89bb-8deceb301c79
Records data: {
  "@odata.context": "https://graph.microsoft.com/v1.0/$metadata#users('413c1c34-3d3c-4196-90df-ddc0088bef0c')/onlineMeetings('MSo0MTNjMWMzNC0zZDNjLTQxOTYtOTBkZi1kZGMwMDg4YmVmMGMqMCoqMTk6bWVldGluZ19OVFF4WkdWbFpqY3ROekEzWlMwME9EbG1MVGsxWVdRdFlXUmpZalEwWWpRMU9USXlAdGhyZWFkLnYy')/attendanceReports('785c8471-1efc-4d82-89bb-8deceb301c79')/attendanceRecords",
  "value": [
    {
      "id": "413c1c34-3d3c-4196-90df-ddc0088bef0c",
      "emailAddress": "DebraB@M365x92504196.OnMicrosoft.com",
      "totalAttendanceInSeconds": 190,
      "role": "Organizer",
      "identity": {
        "@odata.type": "#microsoft.graph.communicationsUserIdentity",
        "id": "413c1c34-3d3c-4196-90df-ddc0088bef0c",
        "displayName": "Debra Berger",
        "tenantId": "d6b48afb-ae93-4180-bd0f-aa47c5c5b57b"
      },
      "attendanceIntervals": [
        {
          "joinDateTime": "2025-04-15T11:36:27.040624Z",
          "leaveDateTime": "2025-04-15T11:39:37.8576297Z",
          "durationInSeconds": 190
        }
      ]
    }
  ]
}
Found 1 meetings for processing
Meeting AAMkAGU4ZTUwM2UxLWE2ZmYtNDEyYi04YjMxLTE4ZDVjOWJjYTU1NwBGAAAAAACESgB8DtbJRbT5CFNNyAusBwBzUYiYy703T7lMEq2d9ivGAAAAAAENAABzUYiYy703T7lMEq2d9ivGAAAIeGi1AAA= added to queue. Queue length: 1
 GET /api/pm2/status 200 in 16ms
 GET /api/pm2/status 200 in 16ms
Rate limit exceeded, retrying after backoff (attempt 6)
 POST /api/process-meetings?userId=debrab%40m365x92504196.onmicrosoft.com&source=pm2 200 in 30003ms
 GET /api/pm2/status 200 in 22ms
 GET /api/pm2/status 200 in 23ms
Error analyzing meeting internally: TypeError: fetch failed
    at async eval (src\ai-agent\core\azure-openai\client.ts:73:29)
    at async AzureOpenAIClient.retryWithExponentialBackoff (src\ai-agent\core\azure-openai\client.ts:40:19)
    at async MeetingService.analyzeMeetingInternal (src\ai-agent\services\meeting\openai.ts:238:33)
    at async QueueManager.processQueue (src\ai-agent\services\queue\queue-manager.ts:66:25)
  71 |
  72 |         return this.retryWithExponentialBackoff(async () => {
> 73 |             const response = await fetch(
     |                             ^
  74 |                 `${AzureOpenAIConfig.endpoint}/openai/deployments/${AzureOpenAIConfig.deployment}/chat/completions?api-version=2024-02-15-preview`,
  75 |                 {
  76 |                     method: 'POST', {
  [cause]: [Error: read ECONNRESET] {
    errno: -4077,
    code: 'ECONNRESET',
    syscall: 'read'
  }
}
Error processing meeting: infra Error: fetch failed
    at MeetingService.analyzeMeetingInternal (src\ai-agent\services\meeting\openai.ts:267:18)
    at async QueueManager.processQueue (src\ai-agent\services\queue\queue-manager.ts:66:25)
  265 |         } catch (error: unknown) {
  266 |             console.error('Error analyzing meeting internally:', error);
> 267 |             throw new Error(error instanceof Error ? error.message : 'An unknown error occurred');
      |                  ^
  268 |         }
  269 |     }
  270 |
Error processing meeting AAMkAGU4ZTUwM2UxLWE2ZmYtNDEyYi04YjMxLTE4ZDVjOWJjYTU1NwBGAAAAAACESgB8DtbJRbT5CFNNyAusBwBzUYiYy703T7lMEq2d9ivGAAAAAAENAABzUYiYy703T7lMEq2d9ivGAAAIeGi1AAA= in batch batch_1744783486991_lrtc3sj74: Error: fetch failed
    at MeetingService.analyzeMeetingInternal (src\ai-agent\services\meeting\openai.ts:267:18)
    at async QueueManager.processQueue (src\ai-agent\services\queue\queue-manager.ts:66:25)
  265 |         } catch (error: unknown) {
  266 |             console.error('Error analyzing meeting internally:', error);
> 267 |             throw new Error(error instanceof Error ? error.message : 'An unknown error occurred');
      |                  ^
  268 |         }
  269 |     }
  270 |
Started batch processing with ID: batch_1744783486991_lrtc3sj74
Progress: 1/1 meetings processed
All meetings processed
Successfully processed 0 meetings
Filtering out already processed meetings and meetings the user didn't attend...
Starting comparison of 0 meetings against posted meetings...
Filtered 0 duplicate meetings
Proceeding with 0 unique meetings
Found 0 unique meetings, 0 of which were attended by the user
Processing meeting: infra
Rate limit exceeded, retrying after backoff (attempt 1)
Rate limit exceeded, retrying after backoff (attempt 2)
Rate limit exceeded, retrying after backoff (attempt 3)
Rate limit exceeded, retrying after backoff (attempt 4)
 GET /api/pm2/status 200 in 15ms
Rate limit exceeded, retrying after backoff (attempt 5)
 GET /api/pm2/status 200 in 23ms
Rate limit exceeded, retrying after backoff (attempt 6)
 GET /api/pm2/status 200 in 10ms
 GET /api/pm2/status 200 in 18ms